<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Find a valid program derived address and its corresponding bump seed."><title>find_program_address in pinocchio::pubkey - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-6c3ea77c.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="pinocchio" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0 (05f9846f8 2025-03-31)" data-channel="1.86.0" data-search-js="search-581efc7a.js" data-settings-js="settings-6dad6058.js" ><script src="../../static.files/storage-3a5871a4.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-4d63596a.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../pinocchio/index.html">pinocchio</a><span class="version">0.8.4</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">find_<wbr>program_<wbr>address</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#panics" title="Panics">Panics</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In pinocchio::<wbr>pubkey</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">pinocchio</a>::<wbr><a href="index.html">pubkey</a></div><h1>Function <span class="fn">find_program_address</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/pinocchio/pubkey.rs.html#102-105">Source</a> </span></div><pre class="rust item-decl"><code>pub fn find_program_address(
    seeds: &amp;[&amp;[<a class="primitive" href="https://doc.rust-lang.org/1.86.0/core/primitive.u8.html">u8</a>]],
    program_id: &amp;<a class="type" href="type.Pubkey.html" title="type pinocchio::pubkey::Pubkey">Pubkey</a>,
) -&gt; (<a class="type" href="type.Pubkey.html" title="type pinocchio::pubkey::Pubkey">Pubkey</a>, <a class="primitive" href="https://doc.rust-lang.org/1.86.0/core/primitive.u8.html">u8</a>)</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Find a valid <a href="https://solana.com/docs/core/cpi#program-derived-addresses">program derived address</a> and its corresponding bump seed.</p>
<p>Program derived addresses (PDAs) are account keys that only the program,
<code>program_id</code>, has the authority to sign. The address is of the same form
as a Solana <code>Pubkey</code>, except they are ensured to not be on the ed25519
curve and thus have no associated private key. When performing
cross-program invocations the program can “sign” for the key by calling
<a href="../cpi/fn.invoke_signed.html" title="fn pinocchio::cpi::invoke_signed"><code>invoke_signed</code></a> and passing the same seeds used to generate the
address, along with the calculated <em>bump seed</em>, which this function
returns as the second tuple element. The runtime will verify that the
program associated with this address is the caller and thus authorized
to be the signer.</p>
<p>The <code>seeds</code> are application-specific, and must be carefully selected to
uniquely derive accounts per application requirements. It is common to
use static strings and other pubkeys as seeds.</p>
<p>Because the program address must not lie on the ed25519 curve, there may
be seed and program id combinations that are invalid. For this reason,
an extra seed (the bump seed) is calculated that results in a
point off the curve. The bump seed must be passed as an additional seed
when calling <code>invoke_signed</code>.</p>
<p>The processes of finding a valid program address is by trial and error,
and even though it is deterministic given a set of inputs it can take a
variable amount of time to succeed across different inputs.  This means
that when called from an on-chain program it may incur a variable amount
of the program’s compute budget.  Programs that are meant to be very
performant may not want to use this function because it could take a
considerable amount of time. Programs that are already at risk
of exceeding their compute budget should call this with care since
there is a chance that the program’s budget may be occasionally
and unpredictably exceeded.</p>
<p>As all account addresses accessed by an on-chain Solana program must be
explicitly passed to the program, it is typical for the PDAs to be
derived in off-chain client programs, avoiding the compute cost of
generating the address on-chain. The address may or may not then be
verified by re-deriving it on-chain, depending on the requirements of
the program. This verification may be performed without the overhead of
re-searching for the bump key by using the <a href="fn.create_program_address.html" title="fn pinocchio::pubkey::create_program_address"><code>create_program_address</code></a>
function.</p>
<p><strong>Warning</strong>: Because of the way the seeds are hashed there is a potential
for program address collisions for the same program id.  The seeds are
hashed sequentially which means that seeds {“abcdef”}, {“abc”, “def”},
and {“ab”, “cd”, “ef”} will all result in the same program address given
the same program id. Since the chance of collision is local to a given
program id, the developer of that program must take care to choose seeds
that do not collide with each other. For seed schemes that are susceptible
to this type of hash collision, a common remedy is to insert separators
between seeds, e.g. transforming {“abc”, “def”} into {“abc”, “-”, “def”}.</p>
<h2 id="panics"><a class="doc-anchor" href="#panics">§</a>Panics</h2>
<p>Panics in the statistically improbable event that a bump seed could not be
found. Use <a href="#try_find_program_address"><code>try_find_program_address</code></a> to handle this case.</p>
<p>Panics if any of the following are true:</p>
<ul>
<li>the number of provided seeds is greater than, <em>or equal to</em>, <a href="constant.MAX_SEEDS.html" title="constant pinocchio::pubkey::MAX_SEEDS"><code>MAX_SEEDS</code></a>,</li>
<li>any individual seed’s length is greater than <a href="constant.MAX_SEED_LEN.html" title="constant pinocchio::pubkey::MAX_SEED_LEN"><code>MAX_SEED_LEN</code></a>.</li>
</ul>
</div></details></section></div></main></body></html>